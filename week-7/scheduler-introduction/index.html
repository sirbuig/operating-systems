<!doctype html>
<html lang="en" dir="ltr" class="docs-wrapper plugin-docs plugin-id-default docs-version-current docs-doc-page docs-doc-id-week-7/scheduler-introduction" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.5.2">
<title data-rh="true">CPU Scheduling Introduction | OS Tutoring</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://sirbuig.github.io/operating-systems/img/docusaurus-social-card.jpg"><meta data-rh="true" name="twitter:image" content="https://sirbuig.github.io/operating-systems/img/docusaurus-social-card.jpg"><meta data-rh="true" property="og:url" content="https://sirbuig.github.io/operating-systems/week-7/scheduler-introduction"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="keywords" content="Operating Systems, Tutoring, FMI, University of Bucharest, OS, Operating Systems Tutoring, Operating Systems Tutoring FMI, Operating Systems Tutoring University of Bucharest"><meta data-rh="true" name="docusaurus_version" content="current"><meta data-rh="true" name="docusaurus_tag" content="docs-default-current"><meta data-rh="true" name="docsearch:version" content="current"><meta data-rh="true" name="docsearch:docusaurus_tag" content="docs-default-current"><meta data-rh="true" property="og:title" content="CPU Scheduling Introduction | OS Tutoring"><meta data-rh="true" name="description" content="Learn the fundamentals of CPU scheduling, including key concepts, scheduling criteria, and real-world applications. Understand preemptive and nonpreemptive scheduling, dispatcher latency, and more."><meta data-rh="true" property="og:description" content="Learn the fundamentals of CPU scheduling, including key concepts, scheduling criteria, and real-world applications. Understand preemptive and nonpreemptive scheduling, dispatcher latency, and more."><link data-rh="true" rel="icon" href="/operating-systems/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://sirbuig.github.io/operating-systems/week-7/scheduler-introduction"><link data-rh="true" rel="alternate" href="https://sirbuig.github.io/operating-systems/week-7/scheduler-introduction" hreflang="en"><link data-rh="true" rel="alternate" href="https://sirbuig.github.io/operating-systems/week-7/scheduler-introduction" hreflang="x-default"><link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=G-8Q3QZEXGW9"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-8Q3QZEXGW9",{anonymize_ip:!0})</script><link rel="stylesheet" href="/operating-systems/assets/css/styles.82c2834f.css">
<script src="/operating-systems/assets/js/runtime~main.e70e2aea.js" defer="defer"></script>
<script src="/operating-systems/assets/js/main.0a0d8855.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();t(null!==e?e:"light")}(),function(){try{const n=new URLSearchParams(window.location.search).entries();for(var[t,e]of n)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/operating-systems/"><div class="navbar__logo"><img src="/operating-systems/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/operating-systems/img/logo.svg" alt="My Site Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Operating Systems Tutoring FMI</b></a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/operating-systems/">Materials</a></div><div class="navbar__items navbar__items--right"><a href="https://github.com/sirbuig/operating-systems" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a><div class="toggle_vylO colorModeToggle_DEke"><button class="clean-btn toggleButton_gllP toggleButtonDisabled_aARS" type="button" disabled="" title="Switch between dark and light mode (currently light mode)" aria-label="Switch between dark and light mode (currently light mode)" aria-live="polite"><svg viewBox="0 0 24 24" width="24" height="24" class="lightToggleIcon_pyhR"><path fill="currentColor" d="M12,9c1.65,0,3,1.35,3,3s-1.35,3-3,3s-3-1.35-3-3S10.35,9,12,9 M12,7c-2.76,0-5,2.24-5,5s2.24,5,5,5s5-2.24,5-5 S14.76,7,12,7L12,7z M2,13l2,0c0.55,0,1-0.45,1-1s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S1.45,13,2,13z M20,13l2,0c0.55,0,1-0.45,1-1 s-0.45-1-1-1l-2,0c-0.55,0-1,0.45-1,1S19.45,13,20,13z M11,2v2c0,0.55,0.45,1,1,1s1-0.45,1-1V2c0-0.55-0.45-1-1-1S11,1.45,11,2z M11,20v2c0,0.55,0.45,1,1,1s1-0.45,1-1v-2c0-0.55-0.45-1-1-1C11.45,19,11,19.45,11,20z M5.99,4.58c-0.39-0.39-1.03-0.39-1.41,0 c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0s0.39-1.03,0-1.41L5.99,4.58z M18.36,16.95 c-0.39-0.39-1.03-0.39-1.41,0c-0.39,0.39-0.39,1.03,0,1.41l1.06,1.06c0.39,0.39,1.03,0.39,1.41,0c0.39-0.39,0.39-1.03,0-1.41 L18.36,16.95z M19.42,5.99c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06c-0.39,0.39-0.39,1.03,0,1.41 s1.03,0.39,1.41,0L19.42,5.99z M7.05,18.36c0.39-0.39,0.39-1.03,0-1.41c-0.39-0.39-1.03-0.39-1.41,0l-1.06,1.06 c-0.39,0.39-0.39,1.03,0,1.41s1.03,0.39,1.41,0L7.05,18.36z"></path></svg><svg viewBox="0 0 24 24" width="24" height="24" class="darkToggleIcon_wfgR"><path fill="currentColor" d="M9.37,5.51C9.19,6.15,9.1,6.82,9.1,7.5c0,4.08,3.32,7.4,7.4,7.4c0.68,0,1.35-0.09,1.99-0.27C17.45,17.19,14.93,19,12,19 c-3.86,0-7-3.14-7-7C5,9.07,6.81,6.55,9.37,5.51z M12,3c-4.97,0-9,4.03-9,9s4.03,9,9,9s9-4.03,9-9c0-0.46-0.04-0.92-0.1-1.36 c-0.98,1.37-2.58,2.26-4.4,2.26c-2.98,0-5.4-2.42-5.4-5.4c0-1.81,0.89-3.42,2.26-4.4C12.92,3.04,12.46,3,12,3L12,3z"></path></svg></button></div><div class="navbarSearchContainer_Bca1"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="main-wrapper mainWrapper_z2l0"><div class="docsWrapper_hBAB"><button aria-label="Scroll back to top" class="clean-btn theme-back-to-top-button backToTopButton_sjWU" type="button"></button><div class="docRoot_UBD9"><aside class="theme-doc-sidebar-container docSidebarContainer_YfHR"><div class="sidebarViewport_aRkj"><div class="sidebar_njMd"><nav aria-label="Docs sidebar" class="menu thin-scrollbar menu_SIkG"><ul class="theme-doc-sidebar-menu menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-1 menu__list-item"><a class="menu__link" href="/operating-systems/">Welcome to the Operating Systems tutoring 2024 - 2025</a></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/operating-systems/category/weeks-1-2">Weeks 1-2</a><button aria-label="Expand sidebar category &#x27;Weeks 1-2&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/operating-systems/category/week-3">Week 3</a><button aria-label="Expand sidebar category &#x27;Week 3&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/operating-systems/category/week-4">Week 4</a><button aria-label="Expand sidebar category &#x27;Week 4&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/operating-systems/category/week-5">Week 5</a><button aria-label="Expand sidebar category &#x27;Week 5&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/operating-systems/category/week-6">Week 6</a><button aria-label="Expand sidebar category &#x27;Week 6&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist menu__link--active" href="/operating-systems/category/week-7">Week 7</a><button aria-label="Collapse sidebar category &#x27;Week 7&#x27;" aria-expanded="true" type="button" class="clean-btn menu__caret"></button></div><ul style="display:block;overflow:visible;height:auto" class="menu__list"><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link menu__link--active" aria-current="page" tabindex="0" href="/operating-systems/week-7/scheduler-introduction">CPU Scheduling Introduction</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/operating-systems/week-7/scheduler_algorithms">CPU Scheduling Algorithms</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/operating-systems/week-7/scheduler-exercises">Scheduling exercises</a></li><li class="theme-doc-sidebar-item-link theme-doc-sidebar-item-link-level-2 menu__list-item"><a class="menu__link" tabindex="0" href="/operating-systems/week-7/test-speed-of-a-program">Test the runtime of a program</a></li></ul></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/operating-systems/category/week-8">Week 8</a><button aria-label="Expand sidebar category &#x27;Week 8&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li><li class="theme-doc-sidebar-item-category theme-doc-sidebar-item-category-level-1 menu__list-item menu__list-item--collapsed"><div class="menu__list-item-collapsible"><a class="menu__link menu__link--sublist" href="/operating-systems/category/week-10">Week 10</a><button aria-label="Expand sidebar category &#x27;Week 10&#x27;" aria-expanded="false" type="button" class="clean-btn menu__caret"></button></div></li></ul></nav></div></div></aside><main class="docMainContainer_TBSr"><div class="container padding-top--md padding-bottom--lg"><div class="row"><div class="col docItemCol_VOVn"><div class="docItemContainer_Djhp"><article><nav class="theme-doc-breadcrumbs breadcrumbsContainer_Z_bl" aria-label="Breadcrumbs"><ul class="breadcrumbs" itemscope="" itemtype="https://schema.org/BreadcrumbList"><li class="breadcrumbs__item"><a aria-label="Home page" class="breadcrumbs__link" href="/operating-systems/"><svg viewBox="0 0 24 24" class="breadcrumbHomeIcon_YNFT"><path d="M10 19v-5h4v5c0 .55.45 1 1 1h3c.55 0 1-.45 1-1v-7h1.7c.46 0 .68-.57.33-.87L12.67 3.6c-.38-.34-.96-.34-1.34 0l-8.36 7.53c-.34.3-.13.87.33.87H5v7c0 .55.45 1 1 1h3c.55 0 1-.45 1-1z" fill="currentColor"></path></svg></a></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item"><a class="breadcrumbs__link" itemprop="item" href="/operating-systems/category/week-7"><span itemprop="name">Week 7</span></a><meta itemprop="position" content="1"></li><li itemscope="" itemprop="itemListElement" itemtype="https://schema.org/ListItem" class="breadcrumbs__item breadcrumbs__item--active"><span class="breadcrumbs__link" itemprop="name">CPU Scheduling Introduction</span><meta itemprop="position" content="2"></li></ul></nav><div class="tocCollapsible_ETCw theme-doc-toc-mobile tocMobile_ITEo"><button type="button" class="clean-btn tocCollapsibleButton_TO0P">On this page</button></div><div class="theme-doc-markdown markdown"><header><h1>CPU Scheduling introduction</h1></header>
<p>Concept, what you need to know before, real-world usage, (6 minute reading)</p>
<blockquote>
<p>CPU scheduling is the basis of multiprogrammed operating systems. By switching the CPU among processes, the operating
system can make the computer more productive (page 266 from this <a href="https://os.ecci.ucr.ac.cr/slides/Abraham-Silberschatz-Operating-System-Concepts-10th-2018.pdf" target="_blank" rel="noopener noreferrer">book</a>)</p>
</blockquote>
<p>The idea is similar to average wait time <a href="https://leetcode.com/problems/average-waiting-time/description/" target="_blank" rel="noopener noreferrer">[Leetcode example]</a>, namely we want
to minimize the waiting time of the process to be executed on our available hardware. There are some criteria we need to consider first before implementing a scheduling algorithm:</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="scheduling-criteria">Scheduling Criteria<a href="#scheduling-criteria" class="hash-link" aria-label="Direct link to Scheduling Criteria" title="Direct link to Scheduling Criteria">​</a></h2>
<ul>
<li><strong>CPU utilization</strong>. Keep the CPU as busy as possible. (<code>maximize</code>)</li>
<li><strong>Throughput</strong>. How many processes are completed per time unit. (<code>maximize</code>)</li>
<li><strong>Turnaround time</strong>. How long does it take to run a process. Calculated as the sum of the periods spent waiting in the
ready queue + executing on CPU + doing I/O. (<code>minimize</code>)</li>
<li><strong>Waiting time</strong>. Amount of time waiting in ready queue. (<code>minimize</code>)</li>
<li><strong>Response</strong>. Time it takes to start responding. (first time on CPU) (<code>minimize</code>)</li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="prerequisite-knowledge">Prerequisite knowledge<a href="#prerequisite-knowledge" class="hash-link" aria-label="Direct link to Prerequisite knowledge" title="Direct link to Prerequisite knowledge">​</a></h2>
<p>An early intuition to resolve this problem is to think it as a FIFO (First In First Out), but in order to
minimize the average time we need other algorithms and other ways to keep our data.</p>
<p>First, we need to learn what a burst duration is, what is a preemptive, nonpreemptive scheduler and what a dispatcher is.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="burst-duration">Burst duration<a href="#burst-duration" class="hash-link" aria-label="Direct link to Burst duration" title="Direct link to Burst duration">​</a></h3>
<p>Process execution consists of a cycle of CPU execution and I/O wait. Processes alternate between those 2 states.
An example is shown in this figure.</p>
<p><img decoding="async" loading="lazy" alt="img_3.png" src="/operating-systems/assets/images/img_3-83db8fbc9aa72fc389b03d1e9e4843ba.png" width="1849" height="1170" class="img_ev3q"></p>
<p>The burst duration is essential for letting the scheduling algorithm know how much time will take for a specific
process to run. But how do we know the duration before running it?</p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="solution-1---look-at-the-frequency-curve"><strong>Solution 1 - Look at the frequency curve</strong>.<a href="#solution-1---look-at-the-frequency-curve" class="hash-link" aria-label="Direct link to solution-1---look-at-the-frequency-curve" title="Direct link to solution-1---look-at-the-frequency-curve">​</a></h4>
<p>The durations of CPU bursts have been measured extensively, thus we can
predict the average burst time.</p>
<p><img decoding="async" loading="lazy" alt="img.png" src="/operating-systems/assets/images/img-5526160d12ccfbce530d0750499e544f.png" width="608" height="368" class="img_ev3q"></p>
<h4 class="anchor anchorWithStickyNavbar_LWe7" id="solution-2---predict-the-next-cpu-burst"><strong>Solution 2 - Predict the next cpu burst</strong><a href="#solution-2---predict-the-next-cpu-burst" class="hash-link" aria-label="Direct link to solution-2---predict-the-next-cpu-burst" title="Direct link to solution-2---predict-the-next-cpu-burst">​</a></h4>
<p>We expect that the next CPU burst will be similar in length to the previous ones.
The next CPU burst is predicted as an <code>exponential average</code> of the measured length of previous CPU bursts.</p>
<ol>
<li>tn = actual length of n^th CPU burst.</li>
<li>Tn+1 = predicted value for next CPU burst</li>
<li>Tn = last guess</li>
<li>For alpha, <code>0 &lt;= alpha &lt;= 1</code> : <code>tn+1 = alpha * tn + (1 - alpha) * Tn</code><br>
<!-- -->Generalized : <code>tn+1 = alpha * tn + ... + (1 - alpha)^j * alpha * Tn-j + ... + (1 - alpha)^ (n + 1) * T0</code></li>
</ol>
<p>We can choose alpha = 1/2 : recent history and past history are equally weighted.
Example :</p>
<p><img decoding="async" loading="lazy" alt="img_1.png" src="/operating-systems/assets/images/img_1-31ce98dd7e0978672865eb2b43561ca1.png" width="727" height="543" class="img_ev3q"><br>
<!-- -->T0 = 10, t1 = 6. alpha = 1/2</p>
<p>T1 = 1/2 _ 6 + (1 - 1/2) _ 10 = 8<br>
<!-- -->T2 = 1/2 _ 4 + (1 - 1/2) _ 8 = 6<br>
<!-- -->T3 = 1/2 _ 6 + (1 - 1/2) _ 6 = 6<br>
<!-- -->...</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="preemptive-and-nonpreemptive-scheduling">Preemptive and Nonpreemptive Scheduling<a href="#preemptive-and-nonpreemptive-scheduling" class="hash-link" aria-label="Direct link to Preemptive and Nonpreemptive Scheduling" title="Direct link to Preemptive and Nonpreemptive Scheduling">​</a></h3>
<p>CPU scheduling decisions may take place when a process:</p>
<ol>
<li>Switches from <strong>running to waiting</strong> state (e.g. wait() for the child in parent)</li>
<li>Switches from <strong>running to ready</strong> state (e.g. when interrupt occurs)</li>
<li>Switches from <strong>waiting to ready</strong> (e.g. at completion of I/O)</li>
<li>Terminates</li>
</ol>
<p>1 &amp; 4 =&gt; nonpreemptive<br>
<!-- -->All of them =&gt; preemptive</p>
<blockquote>
<p>Under nonpreemptive scheduling, once the CPU has been allocated
to a process, the process keeps the CPU until it releases either by terminating
or by switching to the waiting state.
<img decoding="async" loading="lazy" alt="img_1.png" src="/operating-systems/assets/images/week-7-7-7a89afcfcfe64a1afd6b725943a213d9.png" width="554" height="442" class="img_ev3q"></p>
</blockquote>
<blockquote>
<p>Whereas, preemptive scheduling, can change between processes multiple times until they finish.
<img decoding="async" loading="lazy" alt="img.png" src="/operating-systems/assets/images/week-7-6-cbac3a83aaf14b8286bd6dfc9d6e9fa6.png" width="581" height="445" class="img_ev3q"></p>
</blockquote>
<p><code>Question</code> : We talked about processes, but what about kernel mode? When we do a syscall the processes
interrupts and waits a response from kernel (read, open file, etc.). <u> Is this task preemptive, or not? </u><br>
<!-- -->(For the answer you can read the pages 202 and 262 from this <a href="https://os.ecci.ucr.ac.cr/slides/Abraham-Silberschatz-Operating-System-Concepts-10th-2018.pdf" target="_blank" rel="noopener noreferrer">book</a>)</p>
<p>Moreover, for a better understanding, on <a href="https://www.geeksforgeeks.org/preemptive-and-non-preemptive-scheduling/" target="_blank" rel="noopener noreferrer">the website</a> you&#x27;ll find a useful table comparing preemptive and non-preemptive scheduling</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="dispatcher-latency">Dispatcher latency<a href="#dispatcher-latency" class="hash-link" aria-label="Direct link to Dispatcher latency" title="Direct link to Dispatcher latency">​</a></h3>
<blockquote>
<p>The dispatcher is the module that gives control of the CPU’s core to the process
selected by the CPU scheduler.
The time it takes for the dispatcher to stop one process and start
another running is known as the dispatch latency.</p>
</blockquote>
<div class="theme-admonition theme-admonition-warning admonition_xJq3 alert alert--warning"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 16 16"><path fill-rule="evenodd" d="M8.893 1.5c-.183-.31-.52-.5-.887-.5s-.703.19-.886.5L.138 13.499a.98.98 0 0 0 0 1.001c.193.31.53.501.886.501h13.964c.367 0 .704-.19.877-.5a1.03 1.03 0 0 0 .01-1.002L8.893 1.5zm.133 11.497H6.987v-2.003h2.039v2.003zm0-3.004H6.987V5.987h2.039v4.006z"></path></svg></span>IMPORTANT</div><div class="admonitionContent_BuS1"><p>For every <a href="https://os.ecci.ucr.ac.cr/slides/Abraham-Silberschatz-Operating-System-Concepts-10th-2018.pdf#page=152" target="_blank" rel="noopener noreferrer">context switch</a>, the dispatcher is invoked.</p></div></div>
<div class="theme-admonition theme-admonition-tip admonition_xJq3 alert alert--success"><div class="admonitionHeading_Gvgb"><span class="admonitionIcon_Rf37"><svg viewBox="0 0 12 16"><path fill-rule="evenodd" d="M6.5 0C3.48 0 1 2.19 1 5c0 .92.55 2.25 1 3 1.34 2.25 1.78 2.78 2 4v1h5v-1c.22-1.22.66-1.75 2-4 .45-.75 1-2.08 1-3 0-2.81-2.48-5-5.5-5zm3.64 7.48c-.25.44-.47.8-.67 1.11-.86 1.41-1.25 2.06-1.45 3.23-.02.05-.02.11-.02.17H5c0-.06 0-.13-.02-.17-.2-1.17-.59-1.83-1.45-3.23-.2-.31-.42-.67-.67-1.11C2.44 6.78 2 5.65 2 5c0-2.2 2.02-4 4.5-4 1.22 0 2.36.42 3.22 1.19C10.55 2.94 11 3.94 11 5c0 .66-.44 1.78-.86 2.48zM4 14h5c-.23 1.14-1.3 2-2.5 2s-2.27-.86-2.5-2z"></path></svg></span>fun fact</div><div class="admonitionContent_BuS1"><p>You can see how many context switches a process had. <a href="https://unix.stackexchange.com/questions/39342/how-to-see-how-many-context-switches-a-process-makes" target="_blank" rel="noopener noreferrer">See here</a>.<br>
<!-- -->Also, with <code>vmstat 1 3</code> you can see the total context switches over a 3-second period. (in system column, below cs)</p></div></div>
<p><img decoding="async" loading="lazy" alt="img_2.png" src="/operating-systems/assets/images/img_2-4efe716edc634200d513334b31bbde16.png" width="1134" height="479" class="img_ev3q"></p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="when-is-a-process-switched">When is a process switched?<a href="#when-is-a-process-switched" class="hash-link" aria-label="Direct link to When is a process switched?" title="Direct link to When is a process switched?">​</a></h3>
<p>Below, it will be shown when a process stops running on the CPU:
<img decoding="async" loading="lazy" alt="img_4.png" src="/operating-systems/assets/images/img_4-96ca0175e393d6b0f51d7554fe5f25b5.png" width="1139" height="444" class="img_ev3q"></p>
<p>More could be read at <a href="https://os.ecci.ucr.ac.cr/slides/Abraham-Silberschatz-Operating-System-Concepts-10th-2018.pdf#page=151" target="_blank" rel="noopener noreferrer">page 113</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="examples-of-scheduler-usage">Examples of scheduler usage<a href="#examples-of-scheduler-usage" class="hash-link" aria-label="Direct link to Examples of scheduler usage" title="Direct link to Examples of scheduler usage">​</a></h2>
<ul>
<li>used in Embedded Systems and Real-Time Systems:<!-- -->
<ul>
<li>In real-time systems, tasks must meet strict timing constraints (e.g., airbag deployment in cars). CPU scheduling principles are applied in these systems to ensure critical tasks are completed on time.</li>
</ul>
</li>
<li>High-Performance Computing (HPC) and Parallel Processing<!-- -->
<ul>
<li>In HPC, multiple tasks need to be scheduled across many cores or even multiple computers. CPU scheduling concepts help allocate tasks efficiently, balancing loads and minimizing idle times.</li>
</ul>
</li>
<li>Mobile Application Development<!-- -->
<ul>
<li>Mobile devices have limited resources, so efficient scheduling is critical to avoid battery drain and maintain performance. Mobile OS schedulers prioritize tasks based on CPU, GPU, and memory usage.</li>
<li><a href="https://www.researchgate.net/publication/261318367_Towards_Power-Efficient_Smartphones_by_Energy-Aware_Dynamic_Task_Scheduling" target="_blank" rel="noopener noreferrer">this article</a> that talks about a scheduler for power-efficient smartphones</li>
</ul>
</li>
</ul>
<p>Extreme example <code>YouTube</code>:<br>
<!-- -->We can think about the YouTube scheduling recommendation algorithm as analogy for CPU scheduling. Now, let&#x27;s take each criteria and convert it in YouTube mindset.</p>
<ol>
<li><strong>CPU utilization → User Engagement</strong><br>
<!-- -->In CPU scheduling, maximizing CPU utilization ensures that the processor is busy most of the time, making efficient use of resources.
For YouTube’s recommendation algorithm, this translates to maximizing user engagement,
which involves keeping users watching videos for extended periods.</li>
<li><strong>Throughput → Recommended Video Volume</strong><br>
<!-- -->Throughput in CPU scheduling refers to the number of processes completed in a given time frame.
For YouTube’s algorithm, this becomes the number of videos recommended and watched within a session or a certain time period.</li>
<li><strong>Turnaround Time → Viewer Satisfaction Rate</strong><br>
<!-- -->In CPU scheduling, turnaround time is the total time taken to complete a process.
For YouTube, we can relate this to the viewer satisfaction rate, which is how quickly users find content they enjoy.
If users quickly find engaging videos, it indicates an effective algorithm.</li>
<li><strong>Wait Time → Recommendation Delay</strong>
Wait time in CPU scheduling is the time a process spends waiting to be executed.
On YouTube, this can be thought of as the delay before an appealing recommendation appears.
Ideally, users should see engaging content immediately or soon after starting a session.</li>
<li><strong>Response Time → Immediate User Interaction</strong><br>
<!-- -->In CPU scheduling, response time is the time it takes for the system to start responding to a process.
On YouTube, this relates to how quickly users interact with a video (clicking on it, watching, or taking some other action).</li>
</ol>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="philosophical-questions">Philosophical questions<a href="#philosophical-questions" class="hash-link" aria-label="Direct link to Philosophical questions" title="Direct link to Philosophical questions">​</a></h2>
<p>Can two processes running slightly different programs concurrently halt at the same physical address? If no, why? If yes, give example.</p>
<p>Can we interrupt an I/O operation?<br>
<!-- -->Follow-up : If we can, where do we store the values from the kernel operations at context switch? <a href="https://stackoverflow.com/questions/12911841/kernel-stack-and-user-space-stack" target="_blank" rel="noopener noreferrer">solution</a> + <a href="https://cs.stackexchange.com/questions/96550/whats-the-difference-between-user-registers-and-kernel-registers" target="_blank" rel="noopener noreferrer">this one</a></p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="further-reading">Further reading<a href="#further-reading" class="hash-link" aria-label="Direct link to Further reading" title="Direct link to Further reading">​</a></h2>
<ul>
<li><a href="https://eli.thegreenplace.net/2018/measuring-context-switching-and-memory-overheads-for-linux-threads/" target="_blank" rel="noopener noreferrer">More about context switches</a></li>
<li><a href="https://www.youtube.com/watch?v=KXuZi9aeGTw" target="_blank" rel="noopener noreferrer">Avoid too much indirect switch costs, YouTube video by a Google Engineer</a></li>
</ul>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="references">References<a href="#references" class="hash-link" aria-label="Direct link to References" title="Direct link to References">​</a></h2>
<ul>
<li>Operating Systems Concepts, 10th edition</li>
<li><a href="https://codex.cs.yale.edu/avi/os-book/OS8/os8e/slide-dir/PDF-dir/ch5.pdf" target="_blank" rel="noopener noreferrer">Yale course on CPU Scheduler</a></li>
<li><a href="https://www.cl.cam.ac.uk/teaching/1617/OpSystems/pdf/05-Scheduling-Algorithms.pdf" target="_blank" rel="noopener noreferrer">Cambridge course on CPU Scheduler</a></li>
<li><a href="https://www.scs.stanford.edu/07au-cs140/notes/l5.pdf" target="_blank" rel="noopener noreferrer">Stanford course on CPU Scheduler</a></li>
<li><a href="https://www.geeksforgeeks.org/preemptive-and-non-preemptive-scheduling/" target="_blank" rel="noopener noreferrer">Geeksforgeeks - preemptive and nonpreemptive</a></li>
<li><a href="https://www.cs.princeton.edu/courses/archive/fall18/cos318/lectures/8.CPUScheduling.pdf" target="_blank" rel="noopener noreferrer">Princeton course on CPU scheduler</a></li>
<li><a href="https://biglysales.com/how-do-modern-operating-systems-handle-process-scheduling/" target="_blank" rel="noopener noreferrer">How do Modern Operating systems Handle Process Scheduling By Annie Telligent</a></li>
</ul></div><footer class="theme-doc-footer docusaurus-mt-lg"><div class="row margin-top--sm theme-doc-footer-edit-meta-row"><div class="col"><a href="https://github.com/sirbuig/operating-systems/tree/main/docs/week-7/scheduler-introduction.md" target="_blank" rel="noopener noreferrer" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_Z9Sw" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div><div class="col lastUpdated_JAkA"></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Docs pages"><a class="pagination-nav__link pagination-nav__link--prev" href="/operating-systems/category/week-7"><div class="pagination-nav__sublabel">Previous</div><div class="pagination-nav__label">Week 7</div></a><a class="pagination-nav__link pagination-nav__link--next" href="/operating-systems/week-7/scheduler_algorithms"><div class="pagination-nav__sublabel">Next</div><div class="pagination-nav__label">CPU Scheduling Algorithms</div></a></nav></div></div><div class="col col--3"><div class="tableOfContents_bqdL thin-scrollbar theme-doc-toc-desktop"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#scheduling-criteria" class="table-of-contents__link toc-highlight">Scheduling Criteria</a></li><li><a href="#prerequisite-knowledge" class="table-of-contents__link toc-highlight">Prerequisite knowledge</a><ul><li><a href="#burst-duration" class="table-of-contents__link toc-highlight">Burst duration</a></li><li><a href="#preemptive-and-nonpreemptive-scheduling" class="table-of-contents__link toc-highlight">Preemptive and Nonpreemptive Scheduling</a></li><li><a href="#dispatcher-latency" class="table-of-contents__link toc-highlight">Dispatcher latency</a></li><li><a href="#when-is-a-process-switched" class="table-of-contents__link toc-highlight">When is a process switched?</a></li></ul></li><li><a href="#examples-of-scheduler-usage" class="table-of-contents__link toc-highlight">Examples of scheduler usage</a></li><li><a href="#philosophical-questions" class="table-of-contents__link toc-highlight">Philosophical questions</a></li><li><a href="#further-reading" class="table-of-contents__link toc-highlight">Further reading</a></li><li><a href="#references" class="table-of-contents__link toc-highlight">References</a></li></ul></div></div></div></div></main></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/operating-systems/">Materials</a></li></ul></div><div class="col footer__col"><div class="footer__title">Social</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://github.com/MihaiB-dev" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub - Mihai Bivol<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li><li class="footer__item"><a href="https://github.com/sirbuig" target="_blank" rel="noopener noreferrer" class="footer__link-item">GitHub - Iulia Sirbu<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_nPIU"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2024 Operating Systems Tutoring, University of Bucharest</div></div></div></footer></div>
</body>
</html>